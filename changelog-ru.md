#### Handy Clicks: История изменений

`+` – добавлено<br>
`-` – удалено<br>
`x` – исправлено<br>
`*` – улучшено<br>

##### master/HEAD
`x` Редактор: исправлено автодополнение для свойств объекта `window`.<br>
`x` Исправлена поддержка <a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">консоли браузера</a> в Firefox 48+.<br>
`*` Редактор: кнопка «Удалить» теперь отключается, если удалять нечего.<br>
`x` Исправлена поддержка Scratchpad в Firefox 56+.<br>
`*` Режим редактирования: добавлено скрытие пустой ссылки во всплывающей подсказке.<br>
`+` Добавлен экспорт/импорт для отдельных *.js файлов (`//> %hc_ScriptsDir%/example.js` в коде, также добавлен %hc_ScriptsDir% для %profile%/handyclicks/scripts/ и поисковая замена %data%) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/32">#32</a>).<br>
`*` Восстановлен window.handyClicks (в виде ленивого геттера) для определения наличия Handy Clicks даже в отключенном режиме.<br>
`*` Улучшена производительность при запуске: handyclicks.js теперь загружется после небольшой задержки, увеличена задержка перед предзагрузкой настроек.<br>
`*` Добавлена специальная подсветка для пользовательских файлов (`//> %hc_ScriptsDir%/example.js` в коде).<br>
`*` Улучшения интерфейса текста надписей.<br>
`+` Добавлено меню для вставки поисковых замен (например, %custom%).<br>
`x` Откорректирован сброс фильтра: исправлено возможное исчезновение строк.<br>
`*` Добавлена алфавитная сортировка строк: сортируются типы в нормальном режиме и родительские строки в инвертированном режиме.<br>
`x` Исправлен XSS при выводе названий добавленных типов.<br>
`+` Добавлена поисковая замена %init% для поиска кода с инициализацией.<br>
`x` Исправлена подсветка созданных пользователем резервных копий в меню «Восстановить из резервной копии».<br>
`x` Исправлено открытие всех настроек в случае наличия выгруженной вкладки с about:config.<br>
`+` Сброс настроек: добавлена галочка для предварительного экспорта настроек.<br>
`x` Workaround для импортирования многострочной настройки <em>extensions.handyclicks.editor.external.args</em>.<br>
`+` Добавлен интерфейс для настройки <em>extensions.handyclicks.editor.external.labelInFileName</em>.<br>
`*` Переписан код для конвертирования пути к внешнему редактору в относительный: дополнительно добавлены %CurProcD% и %hc_ProfDrv%, ../ используется только для %ProfD% и %CurProcD% (также ограничен уровень ../).<br>
`x` Исправлена установка выделения в Scratchpad в Firefox 44+.<br>
`*` Улучшена производительность при запуске: не используемый при запуске код перемещен из prefSvc.js в prefSvcExt.js с ленивой загрузкой (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/33">#33</a>).<br>
`*` Улучшена производительность настроек: используется более быстрый способ определения несохраненного состояния (сравнение только настроечных данных без вычисления хэш-суммы, примерно в 4 раза быстрее).<br>
`x` Исправлено удаление пробелов в конце строк (Alt+Backspace) в Firefox 49+ (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1108382">bug 1108382</a>).<br>
`x` Редактор: исправлено имя временного файла для отложенных действий.<br>
`x` Редактор: восстановлена возможность отмены после полной замены текста в Firefox 56.<br>
`+` Редактор: добавлены кнопки «В файл» и «Скрипты…».<br>
`*` Редактор: обновлены иконки панели инструментов кода (теперь используется набор иконок <a href="https://www.fatcow.com/free-icons">Farm-Fresh Web Icons от FatCow Web Hosting</a>).<br>
`x` Редактор: исправлена загрузка из файла ы случае отсутствия временной директории.<br>
`x` Редактор: исправлен внутренний идентификатор окна для добавленных типов (используется для переключения на уже открытый редактор при запуске редактирования).<br>
`x` Редактор: исправлена пометка как (не)сохранённого в различных случаях.<br>
`*` Добавлена подсветка недоступных типов (для отключенных/отсутствующих расширений).<br>
`+` Добавлена поисковая замена %na% для недоступных типов.<br>
`*` Сохранение настроек: в случае наличия дефектных настроек запускается их поиск (%bug%).<br>
`*` Добавлен вывод предупреждения при обнаружении дефектных настроек.<br>
`*` Увеличена задержка перед закрытием всплывающих сообщений + особая задержка для предупреждения (настройка <em>extensions.handyclicks.notify.openTimeWarnings</em>).<br>
`*` Переписан код для обновления зависимостей (и отключения неподдерживаемого) в окне настроек.<br>
`*` Окно всплывающего уведомления теперь не закрывает собой кнопки диалоговых окон (как делается для строки состояния).<br>
`+` Добавлена поисковая замена %on% для включенных настроек, поисковая замена для отключенных настроек переименована из %dis% в %off% (поддержка старого варианта сохранена).<br>
`*` Теперь используется не повреждающий буфер отмен способ предотвращения вставки не-ASCII символов в поле внутреннего id добавленного типа с помощью nsIPlaintextEditor.undo() (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/25">#25</a>).<br>
`*` Добавлена возможность активации режима редактирования из отключенного состояния (просто добавлено временное включение).<br>
`x` Исправлено внутреннее хранилище в окне настроек и редакторе в Firefox 47+ (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/28">#28</a>).<br>
`*` Добавлена индикация копирования/вставки при использовании внутреннего буфера.<br>
`*` Отложенное действие: теперь отображается «Отключено» вместо «Через 0 мс».<br>
`*` Внешний редактор: используется ассоциация Windows для .txt, если расширение .js ассоциировано с WScript.exe.<br>
`+` Добавлена поисковая замена %open% для поиска настроек, открытых в редакторах.<br>
`+` Добавлены пункты контекстного меню для закрытия редакторов.<br>
`x` Редактирование добавленного типа: открывается только один редактор для каждого типа (если выделено несколько настроек с одинаковыми типами).<br>
`*` Переключение на уже открытый редактор: добавлен переход на вкладку действия/отложенного действия.<br>
`*` Немного улучшена производительность: код для кнопки «Поверх других оконо» и для сочетаний клавиш разворачивания и полноэкранного режима окна перенесен в setsUtils.js (не используется в окне браузера).<br>
`*` Изменена функция `handyClicksFuncs.getItemText()` для неизвестных типов: отдается предпочтение .value (для XUL textbox).<br>
`+` API: ко врем пользовательским функциям добавлен аргумент itemType и добавлен аргумент firstCall для функции определения добавленного типа.<br>
`+` API: добавлена функция <a href="https://github.com/Infocatcher/Handy_Clicks#api-functions">handyClicks.initCustomType()</a> для переопределения поведения встроенных функция для получения текста и URI.<br>
`*` API: изменена функция <a href="https://github.com/Infocatcher/Handy_Clicks#api-functions">handyClicksFuncs.getItemURI()</a>, добавлен аргумент `event`.<br>
`+` Добавлена возможность не игнорировать клики по кнопкам закрытия вкладок(галочка «Исключить кнопку закрытия» в редакторе).<br>
`*` Улучшено предупреждение при отключении добавленного типа: теперь выводится количество включенных связанных настроек, которые также будут отключены.<br>
`+` Добавлено запоминание состояния дерева (Вид – Запоминать состояние дерева, настройка <em>extensions.handyclicks.sets.rememberState</em>).<br>
`*` Пункты меню для удаления пользовательских резервных копий теперь настраиваемые (настройки <em>extensions.handyclicks.sets.backupUserRemoveDepth</em> и <em>extensions.handyclicks.sets.backupUserRemoveDepth2</em>).<br>
`*` Оптимизировано использование атрибута «properties» у XUL tree (примерно в 1,5 раза более быстрая отрисовка дерева).<br>
`+` Добавлена поисковая замена %delay% для поиска отложенных действия.<br>
`*` Добавлено отображение описания файла (вместо имени продукта и бесполезной версии) во всплывающей подсказки иконки внешнего редактора, также делается попытка получить описание в MacOS (не тестировалось).<br>
`*` Оптимизировано создание элементов-контейнеров в дереве, прекращено использование медленного DOMParser'а (примерно в 1,2 раза более быстрая отрисовка дерева).<br>
`*` Открытие не соседнего меню (с закрытием открытого в данный момент) сделано с дополнительной задержкой после наведения курсора (настройка <em>extensions.handyclicks.ui.openMenuDelay</em>).<br>
`+` Добавлена возможность поиска текста поисковых замен (например «%%on%%» для «%on%»).<br>
`*` Оптимизирован режим фильтрации: строки теперь скрываются вместо удаления (примерно в 2,5 раза более быстрая фильтрация).<br>
`x` Исправлен запуск инициализации добавленных отложенных действий для встроенных действий.<br>
`x` Исправлена работа Ctrl+Up/Down в редакторах кода в Firefox 52+ (по-прежнему не работает в других полях для ввода, но в них эти сочетания клавиш не столь необходимы).<br>
`x` Исправлена навигация по вкладкам с помощью Ctrl+Tab/Ctrl+Shift+Tab и Ctrl+PageDown/Ctrl+PageUp в Firefox 52+: принудительно осуществляется навигация в пределах текущих вкладок.<br>
`*` Переписан и упрощен трюк для исключения автоматического фокусирования на текстовых полях с описаниями аргументов функций.<br>
`*` Поиск: дерево разворачивается только до найденных настроек (вместо разворачивания всего дерева).<br>
`*` Найти далее вниз/вверх: выделяется первый результат поиска, если он был не виден из-за свернутого дерева, также поиск продолжается от выделенных строк (вместо использования внутреннего индекса).<br>
`*` Выделить всё найденное: делается видимой первая найденная строка.<br>
`+` Добавлены пункты меню и сочетания клавиш для сворачивания/разворачивания дерева (теперь это делает не только не слишком интуитивный клик по столбцу «Кнопка мыши и цель»).<br>
`x` Исправлена перезагрузка настроек при импорте (F5): теперь сохраняются исходные данные импорта для последующей перезагрузки.<br>
`*` Добавлены иконки для пунктов меню «Открыть папку с резервными копиями», «Восстановить…», «Показать файл» и «Удалить» (<a href="https://www.fatcow.com/free-icons">Farm-Fresh Web Icons от FatCow Web Hosting</a>).
`x` Подкорректирована обработка выделения в дереве: исправлено включение/выключение отложенного действия в случае, если обычное (родительское) действие тоже выделено.<br>
`x` Исправлен перезагрузчик скриптов (Ctrl+Alt+R, <em>extensions.handyclicks.debug</em> = true): убран необратимый вызов g.shutdown(), исправлена ссылка на кнопку удаления в редакторе.<br>
`*` Обновлен и улучшен перезагрузчик скриптов и стилей (Ctrl+Alt+R, Ctrl+Alt+C, <em>extensions.handyclicks.debug</em> = true): также перезагружаются consts.js и data.js, упрощен код.<br>
`*` Улучшена совместимость с Pale Moon и Basilisk.<br>
`+` Окно настроек: добавлена возможность импорта перетаскиванием настроек (.ini/.js файлы, настроечные ссылки или настройки в виде обычного текста).<br>
`*` Восстановление положения прокрутки в дереве: workaround для принудительной прокрутке к последней строке.<br>
`*` Редактор: добавлена алфавитная сортировка добавленных типов (по названию), добавлена возможность также сортировать встроенные типы (настройка <em>extensions.handyclicks.editor.ui.sortInternalTypes</em>, по умолчанию отключена).<br>
`+` Редактор: добавлено контекстное меню для открытия сохраненных сочетаний кнопок мыши и модификаторов.<br>
`*` Переписан и откорректирован код для выделения настроек в дереве перемещением мыши (нажать кнопку мыши и выделять перетаскиванием): исправлено начало выделение от самых верхних/нижних видимых строк (также предотвращается прокрутка после неаккуратного клика с небольшим смещением мыши), уменьшена скорость автопрокрутки, оптимизирована производительность.<br>
`x` Исправлено окно всплывающего сообщения: раньше оно могло открываться за пределами экрана.<br>
`*` Переписано окно всплывающего сообщения для лучшего отображения длинных сообщений (также добавлены настройки <em>extensions.handyclicks.notify.messageMaxWidth</em> и <em>extensions.handyclicks.notify.messageMaxHeight</em>), также теперь используются CSS transitions для визуализации таймера закрытия.<br>
`*` Теперь всегда выводится всплывающее сообщение об ошибках компиляции (и об ошибках в связанных файлах), а не только в первый раз.<br>
`*` Обновлен <a href="https://github.com/Infocatcher/Handy_Clicks#api-functions">notify() API</a>: используется аргумент options для улучшения читаемости, добавлена возможность создания кнопок в окне сообщения.<br>
`*` Изменено поведение всплывающих сообщений: убрано закрытие по клику правой кнопкой мыши (+ настройка <em>extensions.handyclicks.notify.middleClickToClose</em> для закрытия кликом средней кнопкой мыши), окно сообщения (если в оно фокусе) теперь можно закрыть клавишей Esc, добавлено закрытие всех всплывающих сообщений кликом с любым модификатором или средней кнопкой мыши по кнопке закрытия, добавлено контекстное меню для копирования выделенного или всего текста (и действие по нажатию левой кнопки мыши не будет выполняться после выделения текста) и для закрытия текущего или всех сообщений.<br>
`x` Исправлено окно всплывающего сообщения: теперь не закрывается под курсором и в случае некорректного порядка событий перемещения мыши (например, после «mouseup» за пределами окна).<br>
`*` Добавлена возможность не открывать одно и то же всплывающее сообщение дважды (настройка <em>extensions.handyclicks.notify.dontOpenTwice</em>).<br>
`x` Исправлена функция handyClicksFuncs.getItemURI() для дерева закладок/журнала (не работала без установленного свойства hc.event).<br>
`x` Исправлена всплывающая подсказка в режиме редактирования для XUL деревьев (закладки, элементы журнала).<br>
`x` Добавлено корректное предотвращение контекстного меню после выполнения отложенного действия.<br>
`*` Настройки для окна всплывающего уведомления переименованы из <em>extensions.handyclicks.notify<ins>Name</ins></em> в <em>extensions.handyclicks.notify<ins>.name</ins></em>.<br>
`x` Исправлена перезагрузка автоматически восстановленных из резервной копии настроек (в случае поврежденного файла настроек).<br>
`x` Изменено поведение автоматического резервного копирования (handyclicks_prefs_autobackup-<em>%date%</em>.js): копия создается сразу после сохранения (а не до: для сохранения предыдущего состояния уже есть handyclicks_prefs_backup-<em>%number%</em>.js) и после задержки (если была нажата кнопка «Применить») для улучшения производительности.<br>
`*` Улучшен внутренняя реализация меню резервных копий.<br>
`x` Исправлены всплывающие сообщения из окон флагом «поверх других окон».<br>
`x` Исправлена иконка кнопки «Закрыть» во всплывающих сообщениях в Firefox 28 и более старых, SeaMonkey 2.25 и более старых.<br>
`*` Улучшено перестраивание всплывающих сообщений при открытии новых (настройка <em>extensions.handyclicks.notify.rearrangeWindows</em>): перестраиваются только сообщения с одинаковым родительским окном, также перемещаются все окна сообщений одно за другим (а не просто сдвигается позиция каждого окна даже).<br>
`x` Исправлено открытие <a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">консоли браузера</a> в Firefox 56.<br>
`*` Оптимизирована настройка <em>extensions.handyclicks.ui.inheritToolbarContextMenu</em>: удалено использование медленного CSS селектора «node ~ *».<br>
`x` Исправлены пункты контекстного меню «Переместить в …»/«Удалить с/из …» в Firefox 56 (настройка <em>extensions.handyclicks.ui.inheritToolbarContextMenu</em>).<br>
`x` Исправлено переключение вкладок с помощью прокрутки панели справа от вкладок в редакторе (настройка <em>extensions.handyclicks.sets.scrollLists</em>).<br>
`x` Исправлена работа `handyClicksWinUtils.openSettingsPane()` в случае закрытого окна настроек.<br>
`-` Удалено API `handyClicksCleanupSvc.registerNodeCleanup()`: слишком вредно для производительности и бесполезно в большинстве случаев, удалено `handyClicksCleanupSvc.registerCleanup(func, context, args)`, используйте вместо него `handyClicksRegSvc.registerCleanup(func, context)` (см. <a href="https://github.com/Infocatcher/Handy_Clicks/issues/13">#13</a>).<br>
`*` Улучшена производительность при запуске: теперь winUtils.js не загружается из uninstaller.js.<br>
`*` Изменено API: `handyClicksUtils.storage(key, val)` заменен на `handyClicksGlobals.storage.get(key)/set(key, val)`.<br>
`x` Исправлено `handyClicksGlobals.storage` в Firefox 57+.<br>
`x` Исправлена возможность выбора файлов в Firefox 57+ (используется хак, чтобы сделать nsIFilePicker синхронным).<br>
`x` Исправлены номера строк с ошибками в Firefox 56+ (похоже на баг в Firefox, теперь из номера строки всегда вычитается 2).<br>
`x` Исправлена обработка настроек в Firefox 58+: теперь используется nsIPrefBranch.getStringPref()/setStringPref().<br>
`x` Исправлено определение темы Windows по умолчанию в Firefox 58+ для корректной раскраски дерева.<br>
`x` Исправлено предупреждение при закрытии вкладок в Firefox 29+ и Basilisk (настройка <em>browser.tabs.warnOnClose</em>).<br>
`x` Исправлено открытие окон в фоне в новых версиях Firefox (добавлена настройка <em>extensions.handyclicks.funcs.backgroundWindowDelay</em>).<br>
`x` Восстановлена загрузка настроек по умолчанию в Firefox 58+.<br>
`x` Исправлено обновление изображений в Firefox 44+ (imgICache.removeEntry() удален… <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1202085#c39">bug 1202085</a>).<br>
`x` Теперь принудительно используются иконки 16×16 для кнопки на панели инструментов в Firefox 59+.<br>
`x` Восстановлено окно настроек в Firefox 59+: используются XBL биндинги и стили из Firefox 58 для восстановления &lt;prefwindow&gt; (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1379338">bug 1379338</a>).<br>
`x` Исправлено определение панели вкладок в Firefox 58+.<br>
`*` Изменено оповещение в режиме редактирования: ранее открытое всплывающее сообщение закрывается, после клика по неподдерживаемому элементу сообщение открывается под курсором, сообщение закрывается после выхода из режима редактирования.<br>
`+` Добавлена возможность локализации названий добавленных функций, пример: “Function name @ru:Имя функции” (“текст по умолчанию @локаль1:… @локаль2:…”), также добавлена настройка <em>extensions.handyclicks.locale</em> для переопределения локали браузера.<br>
`x` Исправлен перезагрузчик скриптов (Ctrl+Alt+R, <em>extensions.handyclicks.debug</em> = true) в Firefox 59+: chrome://…/_reloader.js больше не работает, файл переименован в reloader.js.<br>
`*` Режим редактирования: всплывающая подсказка для нескольких ссылок теперь выводится в несколько строк (например, для панели вкладок).<br>
`*` Улучшено ограничение длины кода в дереве настроек: <em>extensions.handyclicks.sets.codeLengthLimit</em> = 0 для снятия ограничения, добавлена настройка <em>extensions.handyclicks.sets.codeLengthLimit.preserveLines</em> (максимум дополнительный символов, чтобы вывести строку целиком).<br>
`*` Обновление изображения: теперь игнорируются data:… ссылки (нечего перезагружать) + добавлено мигание изображения.<br>
`+` Редактор: добавлено контекстное меню для переименования сочетания кнопки мыши и модификаторов.<br>
`x` Исправлены сочетания клавиш для импорта из буфера обмена (Ctrl+V, Ctrl+Shift+V, Shift+Ins): теперь используется отдельная команда, которая никогда не отключается.<br>
`+` Импорт настроек: теперь показываются (и подсвечиваются) удаленные настройки в режиме замены (доступно только редактирование сохраненной версии из контекстного меню), также добавлена поисковая замена %old% (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/34">#34</a>).<br>
`*` Улучшен внешний вид статистики импорта: значения выровнены по сетке, подсвечиваются ненулевые значения, используется цвет ссылки для подсветки строк при наведении курсора.<br>
`*` Удаление настроек: выделяется следующая редактируемая/удаляемая или последняя настройка.<br>
`*` Удаление настроек: workaround для принудительного восстановления прокрутки к последней строке.<br>
`*` Меню восстановления из резервной копии: используется сокращенный формат даты (если доступен новый метод `Date.prototype.toLocaleString(locale, options)`) и используется acceltext для отображения размера файла для улучшающего восприятие выравнивания текста.<br>
`*` Обновлены иконки чекбоксов в дереве настроек добавлена иконка для пункта контекстного меню «Переключить» (используются иконки из Windows 7).<br>
`*` Добавлена подсветка ячеек с чекбоксами в дереве настроек при наведении курсора.<br>
`+` Добавлен черный список сайтов для левой, средней и правой кнопкой мыши без модификаторов для отключения обработки кликов на заданных пользователем сайтах (настройки <em>extensions.handyclicks.blacklist.0</em>, …<em>1</em>, …<em>2</em>).<br>
`*` Дополнительно запоминается текущая строка в дереве настроек, а не только все выделенные.<br>
`x` Исправления совместимости для SeaMonkey 2.55+.<br>
`x` Исправлен стиль для полосы прокрутки для большого списка настроек у отложенного действия, также добавлена минимальная высота для поля с кодом.<br>
`*` Добавлено отключение переключения переключения с помощью прокрутки, если обнаружена полоса прокрутки.<br>
`*` Теперь используется ленивая загрузка для utils.js и prefSvc.js в настройках и редакторе для улучшения производительности.<br>
`*` Код для чтения и записи файлов перемещен из utils.js в отдельный файл io.js с ленивой загрузкой (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/35">#35</a>).<br>
`*` Часто используемые утилиты перемещены из utils.js в отдельный файл jsUtils.js с ленивой загрузкой (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/36">#36</a>).<br>
`*` Изменен контекст выполнения инициализации добавленных функций с this.fn на this.hc (чтобы не загружать funcs.js при запуске).<br>
`x` Исправлена кнопка «поверх всех окон» при открытии во вкладке.<br>
`x` Исправлено определение наличия несохраненных изменений дерева настроек при открытии во вкладке.<br>
`+` Добавлены иконки для редактора и настроек при открытии во вкладке.<br>
`+` Добавлено отображение добавленных типов в дереве настроек (+ настройка <em>extensions.handyclicks.sets.treeSortCustomTypes</em>: -1 – показывать перед настройками, 0 – сортировать вместе с настройками, 1 – показывать после настроек) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/37">#37</a>).<br>
`x` Удаление настроек в дереве: исправлена обработка безымянных настроек.<br>
`*` Добавлено подтверждение удаления добавленного типа в случае присутствия использующих его настроек.<br>
`*` Дерево больше не отрисовывается при открытии настроек в режиме импорта.<br>
`*` Улучшено определение яркости цвета текста для поддержки темных тем (основано на коде <a href="https://github.com/bgrins/TinyColor">TinyColor</a>).<br>
`x` Исправлена всплывающая подсказка «Добавленный тип не используется» в новых версиях Firefox.<br>
`*` Редактор: автовыделение добавленного типа в списке теперь работает даже если тип был переименован (также теперь выводится локализованное название).<br>
`*` Переписаны стили для пунктов меню с иконками + удален global.css (таким образом, также улучшена производительность).<br>
`*` Настройки: улучшена локализация пунктов меню для экспорта/копирования в буфер обмена.<br>
`*` Улучшено поведение пункта меню «Закрывать это меню после клика»: новая логика применяется сразу после клика.<br>
`*` Изменен заголовок окна редактора: используется порядок «кнопка + модификаторы», используется разделитель из локализации браузера и добавлен префикс «Тип:» для добавленного типа.<br>
`+` Добавлены сочетания клавиш Ctrl+1…6 для переключения режима рисования дерева настроек.<br>
`+` Добавлен пункт меню для удаления дубликатов резервных копий (Импорт – Восстановить из резервной копии – Удалить дубликаты), также улучшен процесс резервного копирования: файлы переименовываются в случае обнаружения пропусков от удаления и теперь используется асинхронное удаление файлов после изменения глубины резервирования.<br>
`*` Оптимизировано определение элементов: убраны вызовы node.localName.toLowerCase() для XUL узлов (XUL тэги всегда должны быть в нижнем регистре).<br>
`x` Исправлено отображение несохраненного состояния дерева настроек после открытия окна (например, в случае изменения формата настроек).<br>
`x` Исправлена предзагрузка настроек в случае быстрого выключения/включения.<br>
`x` Настройки поведения элементов управления: добавлены команды «открыть редактор» и «открыть редактор типов».<br>
`+` Перезагрузчик скриптов (<em>extensions.handyclicks.debug</em> = true): добавлено сочетание клавиш Ctrl+Alt+W для открытия окна диалога (настройки, редактор).<br>
`*` Перезагрузчик скриптов (<em>extensions.handyclicks.debug</em> = true): добавлена очистка внутренних кэшей браузера в Firefox 3.6+ вместо хака .js?случайная_добавка.<br>
`+` Добавлена возможность сортировки дерева (кликом по столбцу или с помощью меню Вид – Сортировка), также добавлены настройки <em>extensions.handyclicks.sets.rememberSort</em> и <em>extensions.handyclicks.sets.treeSortAutoInlineDrawMode</em>.<br>
`*` Сравнение текущих и сохраненных настроек: игнорируется различие версий, если отсутствуют другие различия (для совместимости с будущими версиями).<br>
`*` Изменено поведение при клике по столбцу «Кнопка мыши и цель»: клик с зажатым Shift, Alt или Meta для сворачивания/разворачивания дерева, клик правой кнопкой мыши для разворачивания одного уровня дерева, клик средней кнопкой мыши (или Ctrl+клик левой кнопкой мыши) для сворачивания одного уровня дерева.<br>
`*` Добавлено вложенное меню для пунктов «Запоминать …».<br>
`+` Добавлена подсветка строки дерева, если поиск был продолжен с начала или с конца.<br>
`*` Улучшено поведение настройки <em>extensions.handyclicks.sets.treeExpandDelayedAction</em> = false: отдается предпочтение восстановлению сохраненного состояния свернутости/развернутости.<br>
`*` Улучшено автодополнение для «Scratchpad» в поле для пути к внешнему редактору: игнорируется ввод после дополненного «Scratchpad», автодополнение работает после любого символа, а не только после «s» при вводе «c».
`*` Многочисленные внутренние улучшения кода.<br>

##### 0.1.3pre8 (2019-03-04)
<em>(портировано из master/HEAD)</em><br>
`*` Улучшена производительность настроек: используется более быстрый способ определения несохраненного состояния (сравнение только настроечных данных без вычисления хэш-суммы).<br>
`*` Сравнение текущих и сохраненных настроек: игнорируется различие версий, если отсутствуют другие различия (для совместимости с будущими версиями).<br>
`x` Исправлены сочетания клавиш для импорта из буфера обмена (Ctrl+V, Ctrl+Shift+V, Shift+Ins): теперь используется отдельная команда, которая никогда не отключается.<br>
`x` Удаление настроек в дереве: исправлена обработка безымянных настроек.<br>
`x` Исправлена навигация по вкладкам с помощью Ctrl+Tab/Ctrl+Shift+Tab и Ctrl+PageDown/Ctrl+PageUp в Firefox 52+: принудительно осуществляется навигация в пределах текущих вкладок.<br>

##### 0.1.3pre7 (2019-02-10)
<em>(портировано из master/HEAD)</em><br>
`x` Редактор: исправлено автодополнение для свойств объекта `window`.<br>
`x` Исправлена поддержка <a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">консоли браузера</a> в Firefox 48+.<br>
`x` Исправлена поддержка Scratchpad в Firefox 56+.<br>
`x` Откорректирован сброс фильтра: исправлено возможное исчезновение строк.<br>
`x` Исправлен XSS при выводе названий добавленных типов.<br>
`x` Исправлена подсветка созданных пользователем резервных копий в меню «Восстановить из резервной копии».<br>
`x` Исправлено открытие всех настроек в случае наличия выгруженной вкладки с about:config.<br>
`x` Исправлено импортирование многострочной настройки <em>extensions.handyclicks.editor.external.args</em>.<br>
`x` Исправлена установка выделения в Scratchpad в Firefox 44+.<br>
`x` Исправлено удаление пробелов в конце строк (Alt+Backspace) в Firefox 49+ (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1108382">bug 1108382</a>).<br>
`x` Редактор: исправлено имя временного файла для отложенных действий.<br>
`x` Исправлено переключение вкладок с помощью прокрутки панели справа от вкладок в редакторе (настройка <em>extensions.handyclicks.sets.scrollLists</em>).<br>
`x` Исправлено внутреннее хранилище в окне настроек и редакторе в Firefox 47+ (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/28">#28</a>).<br>
`x` Исправлено обновление изображений в Firefox 44+ (imgICache.removeEntry() удален… <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1202085#c39">bug 1202085</a>).<br>
`*` Улучшена совместимость с Pale Moon и Basilisk.<br>
`x` Исправлено предупреждение при закрытии вкладок в Firefox 29+ и Basilisk (настройка <em>browser.tabs.warnOnClose</em>).<br>
`x` Исправлены номера строк с ошибками в Firefox 56+ (похоже на баг в Firefox, теперь из номера строки всегда вычитается 2).<br>

##### 0.1.3pre6 (2017-04-16)
`x` Исправлено скрытие специального окна, открывающего настройки в немодальном окне.<br>
`*` Улучшена функция «обновить изображение»: подкорректировано и добавлено удаление изображения из кэша перед обновлением.<br>
`+` Добавлена возможность настройки или отключения функции переключения с помощью прокрутки (настройки <em>extensions.handyclicks.sets.scrollLists</em> и <em>extensions.handyclicks.sets.scrollLists.onlyInActiveWindow</em>).<br>
`+` Добавлена возможность игнорировать <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas">canvas</a> изображения (настройка <em>extensions.handyclicks.types.images.canvas</em>, например, для отключения в случае проблем с производительностью).<br>
`x` Исправлена совместимость с будущими версиями Firefox: прекращено использование Application.* API (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1090880">bug 1090880</a>, <a href="https://github.com/Infocatcher/Handy_Clicks/issues/28">#28</a>).<br>
`+` Добавлен `handyClicks.handledItem` API для других расширений.<br>
`x` Исправлено декодирование ссылок в Firefox 40+.<br>
`+` Добавлена возможность хранить код в отдельных *.js файлах (с помощью специального комментария вида `//> %hc_PrefsDir%/scripts/example.js`) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/29">#29</a>).<br>
`x` Исправлено отключение: добавлен вызов деструкторов и очищение внутренних кэшей (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/30">#30</a>).<br>
`x` Режим редактирования: исправлено открытие меню в Firefox 36+ (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/31">#31</a>).<br>
`*` Теперь используются data:… ссылки вместо resource://handyclicks-content/…, чтобы сделать расширение невидимым для скриптов со страниц.<br>
`+` Добавлена возможность дублирования/клонирования вкладки в SeaMonkey (`handyClicksFuncs.cloneTab()`).<br>
`x` Исправлена совместимость с будущими версиями Firefox: прекращено использование Array generics вида `Array.forEach()` и String generics вида `String.startsWith()` (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1222547">bug 1222547</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1222552">bug 1222552</a>).<br>
`x` Исправлено определение ссылок в CSS инспекторе в Firefox 48+.<br>
`x` Исправлена совместимость с будущими версиями Firefox: прекращено использование `Date.prototype.toLocaleFormat()` (настройка <em>extensions.handyclicks.sets.dateFormat</em> не будет работать в Firefox 55+) (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=818634">bug 818634</a>).<br>
`+` Режим редактирования: добавлено отображение ссылки во всплывающей подсказке.<br>
`*` Небольшие улучшения производительности и различные улучшения.<br>

##### 0.1.3pre5 (2014-09-09)
`*` Добавлено скрытие настроек строки состояния в Firefox 29+ (только если строка состояния не восстановлена другим расширением).<br>
`x` Исправлена поддержка <a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">консоли браузера</a> в Firefox 29+.<br>
`x` Добавлен workaround для расширения <a href="https://addons.mozilla.org/addon/multi-links/">Multi Links</a> (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/23">#23</a>).<br>
`+` В контекстное меню кнопки добавлены пункты «Переместить на панель инструментов» и «Удалить из меню», для кнопки-меню в Firefox 29+ (Australis).<br>
`+` Добавлена возможность переопределить <em>browser.preferences.instantApply</em> для окна настроек (настройка <em>extensions.handyclicks.sets.overrideInstantApply</em>) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/24">#24</a>).<br>
`x` Исправлено меню кодировок в Firefox 32+ (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/26">#26</a>).<br>

##### 0.1.3pre4 (2014-04-29)
`*` Изменение API: аргументы handyClicksFuncs.getItemText(item, event, noTrim) устарели, используйте вместо них handyClicksFuncs.getItemText(item, <ins>itemType</ins>, event, noTrim).<br>
`*` По умолчанию больше не используются вкладки в popup-окнах (настройка <em>extensions.handyclicks.funcs.dontUseTabsInPopupWindows</em>, не работает с аргументом «moveTo») (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/8">#8</a>).<br>
`x` Исправлено определение пунктов меню «Открыть …» RSS-закладок в Firefox 4+.<br>
`+` Добавлена настройка <em>extensions.handyclicks.ui.showMouseButton.restoreDelay</em> для коррекции опции «Изменять иконку при обработке клика».<br>
`x` Исправлено значение по умолчанию для настройки <em>extensions.handyclicks.key.editMode</em> (модификатор `access` работает, но не отображается в меню).<br>
`*` Обновлен внешний вид всплывающей подсказки режима редактирования.<br>
`*` Немного улучшена производительность отрисовки дерева настроек.<br>
`*` Исправлено значение по умолчанию для настройки <em>extensions.handyclicks.editor.external.path</em>: теперь в качестве редактора по умолчанию используется Scratchpad (если доступен).<br>
`*` Изменено: теперь используется папка %профиль%/handyclicks/temp/ для внешнего редактора и добавлено оповещение о неудаленных временных файлах после падения.<br>
`*` Улучшена производительность (и совместимость с будущими версиями браузера): больше не модифицируется [[Prototype]] уже созданных объектов, также теперь используется ленивая загрузка для prefSvc.js (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/18">#18</a>).<br>
`*` Улучшена производительность при запуске: теперь используется ленивая загрузка для utils.js (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/19">#19</a>).<br>
`*` Немного улучшена производительность при запуске: загрузка модуля удаления настроек теперь производится после небольшой задержки (чтобы не блокировать процесс запуска браузера).<br>
`x` Исправлено определение номеров строк с ошибкой в Firefox 30+ (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/20">#20</a>).<br>
`+` Во всплывающее окно оповещений добавлена кнопка «Закрыть».<br>
`*` Ссылки теперь копируются с `%20` вместо пробелов (настройка <em>extensions.handyclicks.funcs.decodeURIs.spaces</em>).<br>
`*` Улучшена производительность при запуске в отключенном режиме: handyclicks.js будет загружен только после включения (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/21">#21</a>).<br>
`+` Добавлена поддержка расширения <a href="https://addons.mozilla.org/addon/feed-sidebar/">Feed Sidebar</a> (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/22">#22</a>).<br>
`x` Исправлена обработка события «command»: событие «click» не останавливается, если действие настроено для события «command».<br>

##### 0.1.3pre3 (2014-02-01)
`*` Немного улучшена производительность при запуске: теперь стили для «мигания» узла загружаются непосредственно перед первым использованием.<br>
`x` Исправлено запоминание папки назначения при экспорте из диалога удаления.<br>
`*` Немного улучшена производительность при запуске: инициализация модуля удаления настроек теперь производится только после открытия первого окна.<br>
`*` Добавлена возможность открытия контекстного меню после клика левой кнопкой мыши по пункту меню.<br>
`*` Теперь используется отменяемый способ для сброса поведения элементов управления.<br>
`*` Улучшен способ открытия юникодных ссылок в других приложениях (API handyClicksFuncs.showOpenURIWithAppsPopup() и настройка <em>extensions.handyclicks.funcs.preferRunw</em>).<br>
`x` Исправлены возможные проблемы с оптимизацией для ленивой загрузки (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/10">#10</a>).<br>
`+` Добавлена поддержка любых деревьев с закладками/историей (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/15">#15</a>).<br>
`x` Исправлено удаление более 12 элементов из настроек кликов.<br>
`+` Добавлена возможность отключить запоминание положения прокрутки в настройках кликов (галочка в меню Вид и настройка <em>extensions.handyclicks.sets.rememberScrollPosition</em>).<br>
`*` Немного улучшена производительность меню Импорт.<br>
`*` Настройка <em>extensions.handyclicks.devMode</em> переименована в <em>extensions.handyclicks.debug</em>.<br>
`x` Исправлена работа сочетаний клавиш для перезагрузчика скриптов/стилей (Ctrl+Alt+R и Ctrl+Alt+C при <em>extensions.handyclicks.debug</em> = true).<br>
`*` Перезагрузчик скриптов/стилей теперь загружается после небольшой задержки для улучшения производительности при запуске.<br>
`*` Обновлены иконки: теперь используются <a href="http://fatcow.com/free-icons/">иконки Farm-fresh от FatCow Web Hosting</a>, также добавлены иконки 32x32 для Australis (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/16">#16</a>).<br>
`*` Улучшена производительность настройки <em>extensions.handyclicks.precompileCustomTypes</em>.<br>
`+` Добавлена возможность кэшировать уже созданные пользовательские функции для улучшения производительности (настройка <em>extensions.handyclicks.cacheCustomFunctions</em>).<br>
`+` Добавлена поддержка для <a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">консоли браузера</a> (но будет использоваться расширение <a href="https://addons.mozilla.org/addon/console²/">Console²</a>, если доступно).<br>
`*` Улучшена производительность, если используется настройка «перемещать вкладку: относительно» (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/14">#14</a>).<br>
`+` В окно настроек добавлено сочетание клавиш для консоли ошибок (Ctrl+Shift+J).<br>
`*` Изменены действия по умолчанию для клика левой и вредней кнопкой мыши по пункту меню (Настройки – Управление – Поведение элементов управления), будьте внимательны!<br>
`+` Добавлена поддержка истории внутри кнопки-меню в Australis.<br>
`x` Исправлено выполнение действий по событию «command».<br>
`*` Немного улучшена производительность при открытии окна редактора (оптимизировано создание панелей после вкладок).<br>
`*` Улучшена производительность: некоторые операции чтения/записи перенесены в отдельный поток (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/17">#17</a>).<br>
`*` Добавлено обрезание слишком длинных пользовательских кодов в дереве настроек для улучшения производительности (настройка <em>extensions.handyclicks.sets.codeLengthLimit</em>).<br>
`*` Изменены сочетания клавиш по умолчанию для открытия настроек (Shift+F2 → Ctrl+F2) и для запуска режима редактирования (Ctrl+F2 → Alt+F2) (настройки <em>extensions.handyclicks.key.</em>*), будьте внимательны!<br>
`*` Различные мелкие улучшения и исправления.<br>

##### 0.1.3pre2 (2013-12-28)
`x` Подправлена раскраска дерева настроек в Windows при использовании темы Aero (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/4">#4</a>).<br>
`x` Исправлен перевод фокуса на уже открытый Scratchpad, если он использует CodeMirror (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/7">#7</a>).<br>
`x` Исправлено добавление лишнего разделителя в контекстное меню кнопки для панелей инструментов в Firefox 29.0a1.<br>
`x` Импортированы последние исправления из расширения <a href="https://addons.mozilla.org/addon/right-links/">Right Links</a> (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/1">#1</a>).<br>
`+` Добавлена поддержка клавиши-модификатора OS (обычно это клавиша Windows) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/5">#5</a>).<br>
`*` Удалены хаки для асинхронного AddonManager'а (это должно улучшить производительность при запуске) (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/6">#6</a>).<br>
`+` Добавлена горячая клавиша F1 для поля поиска в окне настроек (показывает всплывающую подсказку с краткой справкой).<br>
`*` Улучшена производительность при запуске: теперь используется ленивая загрузка для некоторых скриптов (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/9">#9</a>, <a href="https://github.com/Infocatcher/Handy_Clicks/issues/10">#10</a>).<br>
`*` Улучшена навигация по результатам поиска: текущая строка теперь центрируется.<br>
`*` Улучшена производительность при запуске в отключенном режиме: теперь расширение не читает файл настроек и не обрабатывает события кликов (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/11">#11</a>).<br>
`*` Улучшена производительность при запуске: теперь файл настроек загружается после небольшой задержки.<br>
`x` Исправлена возможная утечка памяти с данными настроек.<br>
`x` Исправлена обработка приватных окон в SeaMonkey (<a href="https://github.com/Infocatcher/Handy_Clicks/issues/12">#12</a>).<br>
`+` Добавлены специальные стили для кнопок Протестировать/Отменить в отключенном режиме.<br>
`+` Добавлена возможность открывать меню настроек с клавиатуры (настройка <em>extensions.handyclicks.key.showSettingsPopup</em>).<br>
`*` Различные мелкие улучшения и исправления.<br>

##### 0.1.3pre (2013-12-18)
`*` Опубликовано на GitHub.<br>

##### Старые версии
<a href="http://infocatcher.ucoz.net/ext/fx/handy_clicks/changelog.txt">changelog.txt</a>